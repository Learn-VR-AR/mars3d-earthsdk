<!DOCTYPE html>
<html class="no-js css-menubar" lang="zh-cn">

<head>
    <title> earthSDK + Mars3D 创建地球</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- 移动设备 viewport -->
    <meta name="viewport"
        content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,minimal-ui">
    <meta name="author" content="火星科技 http://cesium.marsgis.cn ">
    <!-- 360浏览器默认使用Webkit内核 -->
    <meta name="renderer" content="webkit">
    <!-- Chrome浏览器添加桌面快捷方式（安卓） -->
    <link rel="icon" type="image/png" href="img/favicon/favicon.png">
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Safari浏览器添加到主屏幕（IOS） -->
    <link rel="icon" sizes="192x192" href="img/favicon/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="火星科技 MarsGIS">
    <!-- Win8标题栏及ICON图标 -->
    <link rel="apple-touch-icon-precomposed" href="img/favicon/apple-touch-icon.png">
    <meta name="msapplication-TileImage" content="img/favicon/app-icon72x72@2x.png">
    <meta name="msapplication-TileColor" content="#62a8ea">

 
    <!--第三方lib-->
    <script type="text/javascript" src="./lib/include-lib.js" libpath="./lib/"
        include="jquery,bootstrap,font-awesome,layer,haoutil,turf,mars3d"></script>


    <link href="css/style.css" rel="stylesheet" />
</head>

<body>
    <div id="cesiumContainer" class="mars3d-container"></div>


    <script>
        var earth;
        var viewer;

        function startup() {
            earth = new XE.Earth('cesiumContainer');
            earth.sceneTree.root = {
                "children": [
                    {
                        "czmObject": {
                            "name": "谷歌影像",
                            "xbsjType": "Imagery",
                            "xbsjImageryProvider": {
                                "XbsjImageryProvider": {
                                    "url": "//www.google.cn/maps/vt?lyrs=s,h&gl=CN&x={x}&y={y}&z={z}",
                                    "srcCoordType": "GCJ02",
                                    "dstCoordType": "WGS84",
                                    "maximumLevel": 21,
                                },
                            }
                        }
                    }
                ]
            }

            // 通过earth.czm.viewer获得viewer
            viewer = earth.czm.viewer;
            viewer.mars = new mars3d.ViewerEx(viewer, { //火星对viewer的扩展，支持config.json对应的所有可配置项
                "homeButton": true,
                "sceneModePicker": true,
                "navigationHelpButton": true,
                "infoBox": true,
                "vrButton": true,
                "fullscreenButton": true,
                "center": {"y":30.764834,"x":116.350293,"z":20109.64,"heading":0.4,"pitch":-62.6,"roll":0},
                "minzoom": 1,
                "maxzoom": 20000000,
                "style": { "atmosphere": true, "lighting": false, "fog": false, "testTerrain": false },
                "contextmenu": true,
                "mouseZoom": true,
                "location": {
                    "format": "<div>经度:{x}</div> <div>纬度:{y}</div> <div>海拔：{z}米</div> <div>方向：{heading}度</div> <div>俯仰角：{pitch}度</div> <div>视高：{height}米</div>",
                    "crs": ""
                },
                "navigation": {
                    "legend": { "left": "100px", "bottom": "-1px" },
                    "compass": { "top": "10px", "right": "5px" }
                },
            });


        }

        // 1 XE.ready()会加载Cesium.js等其他资源，注意ready()返回一个Promise对象。
        XE.ready().then(startup);            
    </script>
</body>

</html>